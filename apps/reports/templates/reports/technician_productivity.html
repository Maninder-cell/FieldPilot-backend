{% extends "reports/base_report.html" %}

{% block content %}
{% if report.data.productivity %}
<h2>Technician Productivity ({{ report.data.total_technicians }} technicians)</h2>

<table>
    <thead>
        <tr>
            <th>Technician</th>
            <th>Completed Tasks</th>
            <th>Total Work Hours</th>
            <th>Date Range (Days)</th>
            <th>Tasks Per Day</th>
            <th>Hours Per Task</th>
        </tr>
    </thead>
    <tbody>
        {% for tech in report.data.productivity %}
        <tr>
            <td>{{ tech.technician.name }}</td>
            <td>{{ tech.completed_tasks }}</td>
            <td>{{ tech.total_work_hours|floatformat:2 }}h</td>
            <td>{{ tech.date_range_days }} days</td>
            <td><strong>{{ tech.tasks_per_day|floatformat:2 }}</strong></td>
            <td><strong>{{ tech.hours_per_task|floatformat:2 }}h</strong></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No productivity data found.</p>
{% endif %}
{% endblock %}
