{% extends "reports/base_report.html" %}

{% block content %}
<div class="summary-box">
    <h2>Equipment Summary</h2>
    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8pt;">
        <div>
            <strong>Total Equipment:</strong> {{ report.data.summary.total_equipment }}<br>
            <strong>Operational:</strong> {{ report.data.summary.operational }}<br>
            <strong>Maintenance:</strong> {{ report.data.summary.maintenance }}
        </div>
        <div>
            <strong>Broken:</strong> {{ report.data.summary.broken }}<br>
            <strong>Retired:</strong> {{ report.data.summary.retired }}
        </div>
    </div>
</div>

{% if report.data.by_type %}
<div class="summary-box">
    <h3>Equipment by Type</h3>
    <table>
        <thead>
            <tr>
                <th>Equipment Type</th>
                <th>Count</th>
            </tr>
        </thead>
        <tbody>
            {% for type, count in report.data.by_type.items %}
            <tr>
                <td>{{ type|title }}</td>
                <td><strong>{{ count }}</strong></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}

{% if report.data.by_operational_status %}
<div class="summary-box">
    <h3>Equipment by Operational Status</h3>
    <table>
        <thead>
            <tr>
                <th>Status</th>
                <th>Count</th>
            </tr>
        </thead>
        <tbody>
            {% for status, count in report.data.by_operational_status.items %}
            <tr>
                <td>{{ status|title }}</td>
                <td><strong>{{ count }}</strong></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}

{% if report.data.by_condition %}
<div class="summary-box">
    <h3>Equipment by Condition</h3>
    <table>
        <thead>
            <tr>
                <th>Condition</th>
                <th>Count</th>
            </tr>
        </thead>
        <tbody>
            {% for condition, count in report.data.by_condition.items %}
            <tr>
                <td>{{ condition|title }}</td>
                <td><strong>{{ count }}</strong></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}

{% if report.data.warranty_alerts %}
<div class="summary-box" style="background-color: #fef3c7;">
    <h3>Warranty Alerts</h3>
    <table>
        <thead>
            <tr>
                <th>Alert Type</th>
                <th>Count</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Expiring within 30 days</td>
                <td style="color: #dc2626; font-weight: bold;">{{ report.data.warranty_alerts.expiring_within_30_days }}</td>
            </tr>
            <tr>
                <td>Expiring within 90 days</td>
                <td style="color: #d97706; font-weight: bold;">{{ report.data.warranty_alerts.expiring_within_90_days }}</td>
            </tr>
            <tr>
                <td>Already expired</td>
                <td style="color: #6b7280;">{{ report.data.warranty_alerts.expired }}</td>
            </tr>
        </tbody>
    </table>
</div>
{% endif %}
{% endblock %}
